# mcal
 Módulo 6. Introducción a la programación Shell. Ejercicio P2P 6.5  En esta práctica los alumnos realizarán un ejercicio de consolidación y refuerzo práctico del aprendizaje en relación con los contenidos de los módulos 5 y 6. En particular, sobre el uso interactivo de la Shell y la programación básica de comandos de Shell.  Los ejercicios que se proponen pueden realizarse en cualquier distribución o versión de sistema operativo UNIX, preferiblemente con bash como Shell de usuario. La respuesta del ejercicio es un Shell script ejecutable que se editará en un fichero de texto simple. Preferiblemente se utilizarán los editores de texto Vim o Sublime Text 3. Los alumnos subirán este fichero como entrega de esta práctica.  Se valorará, además de la correcta ejecución funcional, la buena estructuración, legibilidad y documentación de los Shell scripts. Ejercicio  El comando Unix cal muestra un calendario del mes o año especificado, por defecto el mes actual. La sintaxis simplificada del comando es      cal [ [mes] año]     Es decir, si sólo se proporciona un argumento, se entiende que es el año y si se proporcionan dos, se entiende que el primero es el mes y el segundo el año. Si no se proporciona ningún argumento, el comando ofrece el calendario del mes en curso. El mes puede especificarse como un número entre uno y doce o por su nombre o cualquier abreviatura de este en inglés (Feb, february, etc.)  En este ejercicio se propone una nueva implementación en forma de shell script del comando cal, que llamaremos mcal, con algunas variaciones:  La sintaxis del nuevo comando será:      mcal [mes] [año]     Es decir, se puede proporcionar sólo el mes, sólo el año o ambos. El comando debe ser suficientemente “inteligente” para discernir si el valor proporcionado en un único argumento se refiere a un mes o a un año. Por ejemplo, la salida del comando mcal 2, debe proporcionar el calendario de febrero del año actual, que parece más adecuado que la ejecución del comando cal 2, que produce el calendario completo del año 2 (es improbable que esa sea la intención del usuario).  Además de la funcionalidad anterior, el comando debe tener las siguientes características:      El comando ha de implementar una opción de ayuda (-help) para mostrar el uso básico del comando.     El comando ha de implementar un control básico de errores: número incorrecto de argumentos, mes o año incorrectamente especificados, etc.     Los meses pueden especificarse mediante un número entre 1 y 12 y por su nombre o abreviatura en inglés y en español     Documente el script con líneas de comentario para que resulte legible y fácilmente mantenible     Se valorará cualquier funcionalidad adicional útil y razonable     Nota orientativa  Puede ser útil extraer la fecha del sistema para determinar cuál es el mes o año en curso si el usuario no lo proporciona como argumento de mcal. Esto puede obtenerse mediante el comando date, que proporciona la fecha y hora actuales.  También es útil conocer que el siguiente comando:      set string1 string2 string3 …     Asigna las cadenas string1, string2, string3, …, respectivamente, a los parámetros posicionales $1, $2, $3, …  Con todo ello, una posible forma de manejar como argumentos del Shell script los componentes de fecha, tal y como se obtiene del sistema, puede ser:      set `date`  Validación      Esta práctica se evalúa por pares, ejecutando el script con, al menos, los siguientes casos de prueba:               mcal             Proporciona el calendario del mes actual.                       mcal 1             Proporciona el calendario de enero del año actual.                       mcal ene              Proporciona el calendario de enero del año actual.                       mcal jan              Proporciona el calendario de enero del año actual.                       mcal 1 1             Proporciona el calendario de enero del año 1.                       mcal 2018             Proporciona el calendario del año 2018.                       mcal 2018 > temp             Escribe en el fichero de nombre temp el calendario del año 2018.                       mcal -help             Proporciona en consola el texto de ayuda.                       mcal -help >temp2             Proporciona en consola el texto de ayuda.                       mcal 13             Proporciona el calendario del año 13.     El listado anterior no contempla la posible necesidad de utilización de paths absolutos o relativos (o la actualización de la variable de entorno PATH) para la correcta localización del fichero por el interprete de comandos.
